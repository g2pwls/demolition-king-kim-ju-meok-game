/* 전체 페이지 3열 고정: [왼]260px  [중]자동  [오]380px  */
.mp-root{
    display:grid;
    grid-template-columns: 260px minmax(0,1fr) 380px;
    grid-template-rows: minmax(0,1fr);
    gap:16px;
    height:100vh;
    padding:16px;
    box-sizing:border-box;
    background:#0a0d12;
}

/* 왼쪽 원격 타일 컬럼 */
.mp-sidebar{
    height:100%;
    display:flex;
    flex-direction:column;
    gap:14px;
    overflow-y:auto;
}
.peer-tile{
    position:relative;
    background:#0b0e12;
    border:1px solid #1e2430;
    border-radius:12px;
    overflow:hidden;
    height:200px;
    flex:0 0 auto;
}
.peer-tile video{width:100%;height:100%;object-fit:cover;}
.peer-badge{
    position:absolute;left:8px;bottom:8px;
    display:inline-flex;gap:6px;padding:3px 8px;
    border-radius:10px;background:rgba(0,0,0,.55);
    color:#e9ecf1;font-size:12px;
}

/* 가운데 게임 영역 */
.mp-main{
    position:relative;
    height:100%;
    background:#0b0e12;
    border:1px solid #1e2430;
    border-radius:18px;
    overflow:hidden;
}
.mp-game{position:relative;width:100%;height:100%;}
.mp-hidden-input{display:none;}

/* HUD (타이머/콤보) */
.mp-hud{
    position:absolute;top:8px;left:12px;right:12px;
    z-index:5;pointer-events:none;
}
.timer-bar{
    height:14px;background:rgba(255,255,255,.15);
    border-radius:12px;overflow:hidden;
    box-shadow:inset 0 0 0 2px rgba(255,255,255,.08);
}
.timer-fill{height:100%;background:#ff3b3b;transition:width .2s linear;}

.command-sequence{
    margin-top:10px;display:flex;gap:10px;justify-content:center;
}
.command-circle{
    pointer-events:none;min-width:56px;padding:8px 10px;
    border-radius:22px;font-weight:800;font-size:16px;color:#fff;
    box-shadow:0 2px 8px rgba(0,0,0,.25), inset 0 -3px 0 rgba(0,0,0,.2);
}
.command-circle.red{background:#ff6868;border:3px solid #ffb0b0;}
.command-circle.black{background:#2b2f39;border:3px solid #a6a6a6;}
.command-circle.current{transform:translateY(-2px);outline:3px solid #ffd54a;}
.command-circle.done{opacity:.5;}

/* 오른쪽 패널: LOG + 내 PIP + 스탯 */
.mp-right{
    height:100%;
    display:flex;
    flex-direction:column;
    gap:12px;
}

/* LOG 패널 */
.mp-chat{
    flex:0 0 200px;
    background:#0b0e12;border:1px solid #1e2430;border-radius:12px;
    display:grid;grid-template-rows:36px 1fr;
}
.mp-chat-title{padding:8px 10px;font-weight:800;color:#e9ecf1;}
.mp-chat-list{padding:8px 10px;overflow:auto;}
.mp-chat-item{color:#bfc6d4;font-size:13px;margin-bottom:6px;}
.mp-chat-item .nick{color:#9fb7ff;margin-right:6px;}

/* 내 PIP (비디오 + Mediapipe 오버레이) */
.local-pip{
    flex:1 1 auto;
    position:relative;
    background:#0b0e12;border:1px solid #1e2430;border-radius:12px;
    overflow:hidden;display:grid;align-items:center;justify-items:center;
}
.local-pip video.mirror{
    width:100%; height:100%;
    object-fit:cover;
    transform:scaleX(-1);
}
.local-pip .overlay{
    position:absolute; inset:0;
    width:100%; height:100%;
    pointer-events:none;
}
.mirror{ transform:scaleX(-1); }

.mp-stats{
    flex:0 0 auto;
    display:flex;align-items:center;gap:12px;
    padding:8px 10px;background:#0b0e12;border:1px solid #1e2430;border-radius:12px;color:#e9ecf1;
}
.mp-stats .quit{
    margin-left:auto;background:#c03535;border:none;color:#fff;
    font-weight:700;padding:8px 12px;border-radius:10px;cursor:pointer;
}
